<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Su.Balance</title>
    <link rel="stylesheet" href="/css/calculator.css">
    <link rel="stylesheet" href="/css/calculator2.css">
    <link rel="stylesheet" href="//code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">
    <script src="/js/code.jquery.com_jquery-3.7.0.min.js"></script>
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>
</head>




<body id="food_calculator">
    <div class="container">
        <div class="navigation">
            <ul>
                <li>
                    <a href="#">
                        <span class="icon"><ion-icon name="heart-circle-outline"></ion-icon></span>
                        <span class="title">Su.Balance</span>
                    </a>
                </li>
                <li>
                    <a href="/info">
                        <span class="icon"><ion-icon name="home-outline"></ion-icon></span>
                        <span class="title">홈</span>
                    </a>
                </li>
                <li>
                    <a href="/calculator">
                        <span class="icon"><ion-icon name="calculator-outline"></ion-icon></span>
                        <span class="title">투여량 계산</span>
                    </a>
                </li>
                <li>
                    <a href="/record">
                        <span class="icon"><ion-icon name="calendar-outline"></ion-icon></span>
                        <span class="title">혈당 일지</span>
                    </a>
                </li>
                <li>
                    <a href="/news">
                        <span class="icon"><ion-icon name="ear-outline"></ion-icon></span>
                        <span class="title">당뇨 뉴스</span>
                    </a>
                </li>
                <li>
                    <a href="/board">
                        <span class="icon"><ion-icon name="list-outline"></ion-icon></span>
                        <span class="title">게시판</span>
                    </a>
                </li>
            </ul>
        </div>
    </div>
    
    <!-- main -->
    <div class="main">
         <!-- table -->
         <div class="details">
             <div class="recentOrders">
                 <div class="cardHeader">
                     <h2 style="font-size:30px">투여량 계산</h2>
                 </div>
                 <br>
                 <span style="font-size:22px">식사 종류 :</span> &nbsp;&nbsp;&nbsp;
                 <a href="#" id="breakfast" class="btn_ct">아침식사</a>&nbsp;&nbsp;&nbsp;
                 <a href="#" id="lunch" class="btn_ct">점심식사</a>&nbsp;&nbsp;&nbsp;
                 <a href="#" id="dinner" class="btn_ct">저녁식사</a>&nbsp;&nbsp;&nbsp;
                 <a href="#" id="etc" class="btn_ct">&nbsp;&nbsp;기타&nbsp;&nbsp;</a>

                 <br><br><br>

                 <div class = "food"> <!-- 음식 넣는 구역 -->
                     <div class="plus_food">음식1: &nbsp;&nbsp;
                         <input type=text name="name" class="food_name" id='autoComplete' placeholder="이름"> &nbsp;&nbsp;&nbsp;
                         <input type=text name="gram" class="food_g" placeholder="g">
                     </div>
                     <!-- 박스 추가되는 영역 -->
                     <div id="boxWrap">

                     </div>
                     <div class="btnWrap">
                         <button type="button" class="button">+</button>
                     </div>
                 </div>

                <br>

                 <span class = "warning" style="font-size: 18px">ex) 채소의 비중이 너무 적습니다. 야채를 더 먹길 추천드려요</span>
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                 <span href="#" id="result_btn" class="btn_result">계산</span>
                 <a class="result">8단위 주사하십시오</a>

                 <br><br><br>

                 <div class ="nutrient">
                     <span style="font-size:20px">탄수화물 : </span>
                     <progress class="progress" id="carbohydrate" value="50" min="0" max="100"></progress>
                     &nbsp;&nbsp;&nbsp;&nbsp;<span style="font-size:20px">단백질 : </span>
                     <progress class="progress" id="protein" value="30" min="0" max="100"></progress>
                     &nbsp;&nbsp;&nbsp;&nbsp;<span style="font-size:20px">지방 : </span>
                     <progress class="progress" id="province" value="80" min="0" max="100"></progress>
                 </div>
             </div>
         </div>
    </div>
</body>

<script>
    $('#autoComplete').autocomplete({ //id="autoComplete 에 대한 autoComplete 메소드 수정
        source : function(request, response) { //source: 입력시 보일 목록
             $.ajax({
                   url : "/ajax/autocomplete.do" //여기에 AJAX 요청 (.do는 가상 경로)
                 , type : "POST"
                 , dataType: "JSON" // data 가 JSON 형태
                 , data : {value: request.term}	// 검색 키워드
                 , success : function(data){ 	// 성공
                     response(
                         $.map(data.resultList, function(item) {
                             return {
                                     label : item.SEARCH_WORD    	// 목록에 표시되는 값
                                   , value : item.SEARCH_WORD 		// 선택 시 input창에 표시되는 값
                                   , idx : item.SEQ // index
                             };
                         })
                     );    //response
                 } //success
                 ,error : function(){ //실패
                     alert("오류가 발생했습니다.");
                 }
             });
        }
        ,focus : function(event, ui) { // 방향키로 자동완성단어 선택 가능하게 만들어줌
                return false;
        }
        ,minLength: 1// 최소 글자수
        ,autoFocus : true // true == 첫 번째 항목에 자동으로 초점이 맞춰짐
        ,delay: 100	//autocomplete 딜레이 시간(ms)
        ,select : function(evt, ui) {
            // 아이템 선택시 실행 ui.item 이 선택된 항목을 나타내는 객체, lavel/value/idx를 가짐
                console.log(ui.item.label); //로그남기기
                console.log(ui.item.idx); //로그남기기
         }
    });
</script>
<script type="text/javascript" src="/js/calculator.js"></script>
<script type="text/javascript" src="/js/calculator2.js"></script>
</html>